<h1>Pages#home</h1>
<!-- vérifier cloudinary -->
<%= simple_form_for(@saved_restaurant) do |f| %>
  <!-- [...] -->
  <%= f.input :photos, as: :file, input_html: { multiple: true } %>
  <!-- [...] -->
  <%= f.button :submit %>
<% end %>

  <!-- afficher les photos cloudinary -->
<% @saved_restaurant.photos.each do |photo| %>
  <%= cl_image_tag(photo.key, width: 300, height: 200, crop: "scale", effect: "cartoonify")  %>
<% end %>

<div data-controller="reset">
  <%# J'affiche ma partial search-bar %>
  <%= render "search-bar" %>
  <%# Je gère l'affichage des résultats %>
  <%# Si la valeur "query" dans params est présente %>
  <% if params[:query].present? %>
    <%# Je créé une div qui affichera mes résultats %>
    <div data-reset-target="list">
      <%# Si je trouve des restaurants dans les résultats de ma recherche %>
      <% if @restaurants.any? %>
          <%# Alors je fais une itération sur "@restaurants" %>
          <% @restaurants.each do |restaurant| %>
            <%# Et pour chaque "restaurant", j'affiche les infos et la possibilité de l'ajouter à une collection %>
            <p><%= restaurant.name %><i class="fa-solid fa-bookmark"></i></p>
          <% end %>
      <%# Sinon %>
      <% else %>
        <%# On affiche le message suivant %>
        <p>Sorry, no restaurant found.</p>
      <% end %>
    </div>
  <% end %>
</div>

<h1>Favorites</h1>
<%# Création d'une div afin d'afficher la collection "Favorites" %>
<div>
  <%# Je fais une itération sur "@saved_restaurants" %>
  <% @saved_restaurants.each do |saved_restaurant| %>
    <%# Et pour chaque "saved_restaurant", je créé un lien qui me renvoie vers la show du restaurant %>
    <p>
      <%= link_to saved_restaurant.restaurant.name, restaurant_path(saved_restaurant.restaurant) %>
    </p>
  <% end %>
</div>

<h1>Recommended</h1>
